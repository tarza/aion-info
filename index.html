<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AION Advisor (‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î)</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #1a237e;
            --secondary-color: #2962ff;
            --light-bg: #f0f2f5;
            --white-bg: #ffffff;
            --text-color: #333;
            --border-color: #e0e0e0;
        }
        body {
            font-family: 'Sarabun', sans-serif;
            background-color: var(--light-bg);
            color: var(--text-color);
            margin: 0;
            padding: 20px;
        }
        .container {
            width: 100%;
            max-width: 960px;
            margin: auto;
            background-color: var(--white-bg);
            border-radius: 16px;
            box-shadow: 0 6px 20px rgba(0,0,0,0.08);
            padding: 20px 40px;
            box-sizing: border-box;
        }
        h1, h2, h3 {
            color: var(--primary-color);
            text-align: center;
        }
        /* Navigation Tabs */
        .nav-tabs {
            display: flex;
            border-bottom: 2px solid var(--border-color);
            margin-bottom: 30px;
        }
        .nav-tab {
            padding: 15px 25px;
            cursor: pointer;
            font-size: 18px;
            font-weight: 600;
            border-bottom: 4px solid transparent;
            transition: all 0.3s ease;
            text-align: center;
            flex-grow: 1;
        }
        .nav-tab:hover {
            color: var(--secondary-color);
        }
        .nav-tab.active {
            color: var(--primary-color);
            border-bottom-color: var(--primary-color);
        }
        .view {
            display: none;
        }
        .view.active {
            display: block;
        }
        /* Form Styles */
        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 25px;
            margin-bottom: 25px;
        }
        .form-group {
            display: flex;
            flex-direction: column;
        }
        .form-group label {
            margin-bottom: 8px;
            font-weight: 600;
        }
        .form-group input, .form-group select {
            padding: 12px;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            font-size: 16px;
            box-sizing: border-box;
        }
        /* Button */
        .action-button {
            display: block;
            width: 100%;
            background-color: var(--secondary-color);
            color: white;
            border: none;
            padding: 15px;
            font-size: 18px;
            font-weight: bold;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.3s;
            margin-top: 20px;
        }
        .action-button:hover {
            background-color: #0039cb;
        }
        /* Results View */
        #results-container {
            margin-top: 30px;
            padding: 20px;
            background-color: #f8f9fa;
            border-radius: 8px;
        }
        .result-card {
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            background-color: var(--white-bg);
        }
        .color-box {
            display: inline-block;
            width: 20px;
            height: 20px;
            margin-right: 8px;
            border: 1px solid #ccc;
            border-radius: 4px;
            vertical-align: middle;
        }
        /* Comparison View */
        .car-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }
        .option {
            background-color: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 12px 15px;
            display: flex;
            align-items: center;
            cursor: pointer;
            transition: background-color 0.3s, border-color 0.3s;
        }
        #comparison-table-container table {
            width: 100%; border-collapse: collapse; margin-top: 20px;
        }
        #comparison-table-container th, #comparison-table-container td {
            border: 1px solid var(--border-color); padding: 12px; text-align: center;
        }
        #comparison-table-container th {
            background-color: #e8eaf6; color: var(--primary-color);
        }
    </style>
</head>
<body>

    <div class="container">
        <h1>üöó AION Advisor</h1>
        <p style="text-align:center; margin-top:-10px; margin-bottom:20px; color:#666;">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î ‡∏ì ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 25 ‡∏Å‡∏£‡∏Å‡∏é‡∏≤‡∏Ñ‡∏° 2568</p>

        <div class="nav-tabs">
            <div class="nav-tab active" data-view="wizard-view">1. ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏£‡∏ñ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πà</div>
            <div class="nav-tab" data-view="comparison-view">2. ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏™‡πÄ‡∏õ‡∏Ñ</div>
        </div>

        <div id="wizard-view" class="view active">
            <h2>‡∏ö‡∏≠‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</h2>
            <div class="form-grid">
                <div class="form-group">
                    <label for="budget">‡∏á‡∏ö‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î</label>
                    <input type="range" id="budget" min="400000" max="2000000" step="50000" value="1000000">
                    <span id="budget-value">1,000,000 ‡∏ö‡∏≤‡∏ó</span>
                </div>
                <div class="form-group">
                    <label for="birth-day">‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏Å‡∏¥‡∏î‡∏ß‡∏±‡∏ô‡∏≠‡∏∞‡πÑ‡∏£ (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡∏µ‡∏°‡∏á‡∏Ñ‡∏•)</label>
                    <select id="birth-day">
                        <option value="monday">‡∏ß‡∏±‡∏ô‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå</option>
                        <option value="tuesday">‡∏ß‡∏±‡∏ô‡∏≠‡∏±‡∏á‡∏Ñ‡∏≤‡∏£</option>
                        <option value="wednesday">‡∏ß‡∏±‡∏ô‡∏û‡∏∏‡∏ò (‡∏Å‡∏•‡∏≤‡∏á‡∏ß‡∏±‡∏ô)</option>
                        <option value="wednesday_night">‡∏ß‡∏±‡∏ô‡∏û‡∏∏‡∏ò (‡∏Å‡∏•‡∏≤‡∏á‡∏Ñ‡∏∑‡∏ô)</option>
                        <option value="thursday">‡∏ß‡∏±‡∏ô‡∏û‡∏§‡∏´‡∏±‡∏™‡∏ö‡∏î‡∏µ</option>
                        <option value="friday">‡∏ß‡∏±‡∏ô‡∏®‡∏∏‡∏Å‡∏£‡πå</option>
                        <option value="saturday">‡∏ß‡∏±‡∏ô‡πÄ‡∏™‡∏≤‡∏£‡πå</option>
                        <option value="sunday">‡∏ß‡∏±‡∏ô‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå</option>
                    </select>
                </div>
            </div>
            <div class="form-group">
                <label>‡∏•‡∏±‡∏Å‡∏©‡∏ì‡∏∞‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏´‡∏•‡∏±‡∏Å</label>
                <select id="primary-use">
                    <option value="city">‡πÄ‡∏ô‡πâ‡∏ô‡∏Ç‡∏±‡∏ö‡πÉ‡∏ô‡πÄ‡∏°‡∏∑‡∏≠‡∏á ‡∏Ñ‡∏•‡πà‡∏≠‡∏á‡∏ï‡∏±‡∏ß ‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î</option>
                    <option value="long_trip">‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡πÑ‡∏Å‡∏•‡∏ö‡πà‡∏≠‡∏¢‡πÜ ‡∏ß‡∏¥‡πà‡∏á‡πÑ‡∏î‡πâ‡πÄ‡∏¢‡∏≠‡∏∞</option>
                    <option value="family">‡∏£‡∏ñ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏£‡∏≠‡∏ö‡∏Ñ‡∏£‡∏±‡∏ß ‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏Å‡∏ß‡πâ‡∏≤‡∏á</option>
                    <option value="performance">‡πÄ‡∏ô‡πâ‡∏ô‡∏™‡∏°‡∏£‡∏£‡∏ñ‡∏ô‡∏∞ ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏£‡∏á ‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ</option>
                </select>
            </div>
            <button id="recommend-btn" class="action-button">‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏£‡∏ñ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πà‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏∏‡∏ì!</button>
        </div>

        <div id="comparison-view" class="view">
            <h2>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏∏‡πà‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö</h2>
            <div class="car-options" id="car-options-compare"></div>
            <button id="compare-btn" class="action-button">‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡πÄ‡∏•‡∏¢!</button>
        </div>
        
        <div id="results-container"></div>

    </div>

<script>
document.addEventListener('DOMContentLoaded', function () {
    
    // --- DATABASE (‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï 25 ‡∏Å.‡∏Ñ. 2568) ---
    const carData = [
        { id: 'ut_std', model: 'AION UT', subModel: '420 Standard', price: 499900, range: 420, hp: 136, type: 'Hatchback', tags: ['city', 'value'] },
        { id: 'ut_prem', model: 'AION UT', subModel: '500 Premium', price: 649900, range: 500, hp: 204, type: 'Hatchback', tags: ['city', 'value', 'long_trip'] },
        { id: 'y_410', model: 'AION Y Plus', subModel: '410 Premium', price: 769900, range: 410, hp: 204, type: 'Crossover', tags: ['city', 'family', 'value'] },
        { id: 'y_490', model: 'AION Y Plus', subModel: '490 Premium', price: 829900, range: 490, hp: 204, type: 'Crossover', tags: ['family', 'long_trip'] },
        { id: 'es_taxi', model: 'AION ES', subModel: 'Sedan', price: 846000, range: 442, hp: 136, type: 'Sedan', tags: ['value', 'city', 'fleet'] },
        { id: 'v_620', model: 'AION V', subModel: '620 Luxury', price: 999900, range: 602, hp: 224, type: 'SUV', tags: ['family', 'long_trip', 'tech'] },
        { id: 'ht_prem', model: 'HYPTEC HT', subModel: '620 Premium', price: 1449000, range: 620, hp: 340, type: 'SUV', tags: ['performance', 'long_trip', 'family', 'tech'] },
        { id: 'ht_lux', model: 'HYPTEC HT', subModel: '620 Luxury (Gull-Wing)', price: 1749000, range: 620, hp: 340, type: 'SUV', tags: ['performance', 'long_trip', 'family', 'tech', 'style'] }
    ];

    const auspiciousColors = {
        sunday: { good: ['‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß', '‡∏™‡∏µ‡∏ö‡∏£‡∏≠‡∏ô‡∏ã‡πå', '‡∏™‡∏µ‡∏î‡∏≥'], bad: ['‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô', '‡∏™‡∏µ‡∏ü‡πâ‡∏≤'], css: { good: ['#4CAF50', '#CD7F32', '#000000'], bad: ['#2196F3', '#03A9F4'] } },
        monday: { good: ['‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß', '‡∏™‡∏µ‡∏°‡πà‡∏ß‡∏á', '‡∏™‡∏µ‡∏™‡πâ‡∏°'], bad: ['‡∏™‡∏µ‡πÅ‡∏î‡∏á'], css: { good: ['#4CAF50', '#9C27B0', '#FF9800'], bad: ['#F44336'] } },
        tuesday: { good: ['‡∏™‡∏µ‡∏°‡πà‡∏ß‡∏á', '‡∏™‡∏µ‡∏™‡πâ‡∏°', '‡∏™‡∏µ‡∏ö‡∏£‡∏≠‡∏ô‡∏ã‡πå'], bad: ['‡∏™‡∏µ‡∏Ç‡∏≤‡∏ß', '‡∏™‡∏µ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á'], css: { good: ['#9C27B0', '#FF9800', '#CD7F32'], bad: ['#FFFFFF', '#FFEB3B'] } },
        wednesday: { good: ['‡∏™‡∏µ‡∏ö‡∏£‡∏≠‡∏ô‡∏ã‡πå', '‡∏™‡∏µ‡πÄ‡∏ó‡∏≤', '‡∏™‡∏µ‡∏ü‡πâ‡∏≤'], bad: ['‡∏™‡∏µ‡∏ä‡∏°‡∏û‡∏π', '‡∏™‡∏µ‡πÅ‡∏™‡∏î'], css: { good: ['#CD7F32', '#9E9E9E', '#03A9F4'], bad: ['#E91E63', '#FF5722'] } },
        wednesday_night: { good: ['‡∏™‡∏µ‡∏Ç‡∏≤‡∏ß', '‡∏™‡∏µ‡∏°‡πà‡∏ß‡∏á', '‡∏™‡∏µ‡∏î‡∏≥'], bad: ['‡∏™‡∏µ‡∏™‡πâ‡∏°', '‡∏™‡∏µ‡∏ó‡∏≠‡∏á'], css: { good: ['#FFFFFF', '#9C27B0', '#000000'], bad: ['#FF9800', '#FFD700'] } },
        thursday: { good: ['‡∏™‡∏µ‡∏ü‡πâ‡∏≤', '‡∏™‡∏µ‡πÅ‡∏î‡∏á', '‡∏™‡∏µ‡∏™‡πâ‡∏°'], bad: ['‡∏™‡∏µ‡∏î‡∏≥', '‡∏™‡∏µ‡∏°‡πà‡∏ß‡∏á'], css: { good: ['#03A9F4', '#F44336', '#FF9800'], bad: ['#000000', '#9C27B0'] } },
        friday: { good: ['‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß', '‡∏™‡∏µ‡∏ä‡∏°‡∏û‡∏π', '‡∏™‡∏µ‡πÅ‡∏î‡∏á'], bad: ['‡∏™‡∏µ‡πÄ‡∏ó‡∏≤', '‡∏™‡∏µ‡∏ö‡∏£‡∏≠‡∏ô‡∏ã‡πå'], css: { good: ['#4CAF50', '#E91E63', '#F44336'], bad: ['#9E9E9E', '#CD7F32'] } },
        saturday: { good: ['‡∏™‡∏µ‡πÅ‡∏î‡∏á', '‡∏™‡∏µ‡∏ü‡πâ‡∏≤', '‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô'], bad: ['‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß', '‡∏™‡∏µ‡πÅ‡∏™‡∏î'], css: { good: ['#F44336', '#03A9F4', '#2196F3'], bad: ['#4CAF50', '#FF5722'] } }
    };

    // --- DOM ELEMENTS ---
    const navTabs = document.querySelectorAll('.nav-tab');
    const views = document.querySelectorAll('.view');
    const resultsContainer = document.getElementById('results-container');
    const budgetSlider = document.getElementById('budget');
    const budgetValue = document.getElementById('budget-value');
    const birthDaySelect = document.getElementById('birth-day');
    const useSelect = document.getElementById('primary-use');
    const recommendBtn = document.getElementById('recommend-btn');
    const compareOptionsContainer = document.getElementById('car-options-compare');
    const compareBtn = document.getElementById('compare-btn');

    // --- INITIALIZATION ---
    function init() {
        navTabs.forEach(tab => tab.addEventListener('click', () => switchView(tab.dataset.view)));
        budgetSlider.addEventListener('input', () => {
            budgetValue.textContent = `${Number(budgetSlider.value).toLocaleString('th-TH')} ‡∏ö‡∏≤‡∏ó`;
        });
        recommendBtn.addEventListener('click', handleRecommendation);
        carData.forEach(car => {
            const label = document.createElement('label');
            label.className = 'option';
            label.innerHTML = `<input type="checkbox" name="car-select" value="${car.id}"> <span>${car.model} ${car.subModel}</span>`;
            compareOptionsContainer.appendChild(label);
        });
        compareBtn.addEventListener('click', handleComparison);
    }
    
    // --- VIEW SWITCHING ---
    function switchView(viewId) {
        navTabs.forEach(tab => tab.classList.toggle('active', tab.dataset.view === viewId));
        views.forEach(view => view.classList.toggle('active', view.id === viewId));
        resultsContainer.innerHTML = ''; 
    }

    // --- WIZARD LOGIC ---
    function handleRecommendation() {
        const budget = Number(budgetSlider.value);
        const use = useSelect.value;
        const day = birthDaySelect.value;

        let recommendations = carData.map(car => {
            let score = 0;
            if (car.price <= budget) {
                score += 5;
                score += ((budget - car.price) / 100000) * 2;
            } else {
                return { ...car, score: -1 };
            }
            if (use === 'city' && car.tags.includes('value')) score += 5;
            if (use === 'long_trip' && car.tags.includes('long_trip')) score += 5;
            if (use === 'family' && car.tags.includes('family')) score += 5;
            if (use === 'performance' && car.tags.includes('performance')) score += 5;
            return { ...car, score };
        });
        recommendations = recommendations.filter(car => car.score > 0).sort((a, b) => b.score - a.score);
        renderWizardResults(recommendations.slice(0, 3), auspiciousColors[day]);
    }

    function renderWizardResults(cars, colors) {
        if (cars.length === 0) {
            resultsContainer.innerHTML = '<h3>‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏£‡∏ñ‡∏ó‡∏µ‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</h3><p>‡∏•‡∏≠‡∏á‡∏õ‡∏£‡∏±‡∏ö‡∏á‡∏ö‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡∏´‡∏£‡∏∑‡∏≠‡∏•‡∏±‡∏Å‡∏©‡∏ì‡∏∞‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏î‡∏π‡∏ô‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö</p>';
            return;
        }
        let html = `<h2>‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πà‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏∏‡∏ì</h2>`;
        cars.forEach((car, index) => {
            html += `
                <div class="result-card">
                    <h3>${index === 0 ? '‚ú® ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö 1' : `‚úîÔ∏è ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏µ‡πà‡∏ô‡πà‡∏≤‡∏™‡∏ô‡πÉ‡∏à‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö ${index + 1}`}</h3>
                    <h2>${car.model} ${car.subModel}</h2>
                    <p><strong>‡∏£‡∏≤‡∏Ñ‡∏≤:</strong> ${car.price.toLocaleString('th-TH')} ‡∏ö‡∏≤‡∏ó</p>
                    <p><strong>‡∏ß‡∏¥‡πà‡∏á‡πÑ‡∏î‡πâ‡πÑ‡∏Å‡∏•:</strong> ${car.range} ‡∏Å‡∏°.</p>
                    <p><strong>‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•:</strong> ${getReason(car, useSelect.value)}</p>
                    ${index === 0 ? renderColorSection(colors) : ''}
                </div>`;
        });
        resultsContainer.innerHTML = html;
    }

    function getReason(car, use) {
        if (use === 'city') return '‡∏Ñ‡∏•‡πà‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÉ‡∏ô‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡πÅ‡∏•‡∏∞‡∏£‡∏≤‡∏Ñ‡∏≤‡∏Ñ‡∏∏‡πâ‡∏°‡∏Ñ‡πà‡∏≤‡∏°‡∏≤‡∏Å';
        if (use === 'long_trip') return `‡∏ß‡∏¥‡πà‡∏á‡πÑ‡∏î‡πâ‡πÑ‡∏Å‡∏•‡∏ñ‡∏∂‡∏á ${car.range} ‡∏Å‡∏°. ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡πÑ‡∏Å‡∏•`;
        if (use === 'family') return '‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏™‡∏≠‡∏¢‡∏Å‡∏ß‡πâ‡∏≤‡∏á‡∏Ç‡∏ß‡∏≤‡∏á ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏£‡∏≠‡∏ö‡∏Ñ‡∏£‡∏±‡∏ß';
        if (use === 'performance') return `‡∏™‡∏°‡∏£‡∏£‡∏ñ‡∏ô‡∏∞‡∏™‡∏π‡∏á‡∏ñ‡∏∂‡∏á ${car.hp} ‡πÅ‡∏£‡∏á‡∏°‡πâ‡∏≤ ‡∏ï‡∏≠‡∏ö‡πÇ‡∏à‡∏ó‡∏¢‡πå‡∏Ñ‡∏ô‡∏£‡∏±‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß`;
        return '‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏ó‡∏±‡∏ô‡∏™‡∏°‡∏±‡∏¢‡πÅ‡∏•‡∏∞‡∏Ñ‡∏∏‡πâ‡∏°‡∏Ñ‡πà‡∏≤';
    }

    function renderColorSection(colors) {
        return `
            <div>
                <h4>üé® ‡∏™‡∏µ‡∏°‡∏á‡∏Ñ‡∏•‡πÄ‡∏™‡∏£‡∏¥‡∏°‡∏î‡∏ß‡∏á‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏∏‡∏ì</h4>
                <p><strong>‡∏™‡∏µ‡∏ó‡∏µ‡πà‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥:</strong> 
                    ${colors.good.map((color, i) => `<span class="color-box" style="background-color:${colors.css.good[i]};"></span>${color}`).join(' ')}
                </p>
                <p><strong>‡∏™‡∏µ‡∏ó‡∏µ‡πà‡∏Ñ‡∏ß‡∏£‡πÄ‡∏•‡∏µ‡πà‡∏¢‡∏á:</strong> 
                    ${colors.bad.map((color, i) => `<span class="color-box" style="background-color:${colors.css.bad[i]};"></span>${color}`).join(' ')}
                </p>
            </div>`;
    }

    // --- COMPARISON LOGIC ---
    function handleComparison() {
        const selectedIds = Array.from(document.querySelectorAll('input[name="car-select"]:checked')).map(cb => cb.value);
        if (selectedIds.length < 2) {
            alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏∏‡πà‡∏ô‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 2 ‡∏£‡∏∏‡πà‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö');
            return;
        }
        const selectedCars = carData.filter(car => selectedIds.includes(car.id));
        renderComparisonTable(selectedCars);
    }

    function renderComparisonTable(cars) {
        let tableHTML = `
            <h2>‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö</h2>
            <div id="comparison-table-container"><table>
                <thead><tr><th>‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥</th>
                ${cars.map(car => `<th>${car.model}<br><small>${car.subModel}</small></th>`).join('')}
                </tr></thead><tbody>
                <tr><td>‡∏£‡∏≤‡∏Ñ‡∏≤ (‡∏ö‡∏≤‡∏ó)</td>${cars.map(car => `<td>${car.price.toLocaleString('th-TH')}</td>`).join('')}</tr>
                <tr><td>‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á‡∏ß‡∏¥‡πà‡∏á (‡∏Å‡∏°.)</td>${cars.map(car => `<td>${car.range}</td>`).join('')}</tr>
                <tr><td>‡∏Å‡∏≥‡∏•‡∏±‡∏á (‡πÅ‡∏£‡∏á‡∏°‡πâ‡∏≤)</td>${cars.map(car => `<td>${car.hp}</td>`).join('')}</tr>
                <tr><td>‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏£‡∏ñ</td>${cars.map(car => `<td>${car.type}</td>`).join('')}</tr>
                <tr><td>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏∏‡πâ‡∏°‡∏Ñ‡πà‡∏≤ (‡∏ö‡∏≤‡∏ó/‡∏Å‡∏°.)</td>${cars.map(car => `<td>${Math.round(car.price / car.range).toLocaleString('th-TH')}</td>`).join('')}</tr>
                </tbody></table></div>`;
        resultsContainer.innerHTML = tableHTML;
    }

    // --- START THE APP ---
    init();
});
</script>

</body>
</html>
